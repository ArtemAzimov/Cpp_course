Переделайте код про кнопки так, чтобы Button был абстрактным классом. 
Добавьте еще какую-нибудь кнопку, чтобы в свитч кейсе все еще было 3 класса. 
И разделите классы на заголовочные файлы и точки интерпретации